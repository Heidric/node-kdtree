<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="node-kdtree : A node.js add-on for performing efficient Nearest Neighbor searches using libkdtree." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>node-kdtree</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/justinethier/node-kdtree">Fork Me on GitHub</a>

          <h1 id="project_title">node-kdtree</h1>
          <h2 id="project_tagline">A node.js add-on for performing efficient Nearest Neighbor searches using libkdtree.</h2>

          <section id="downloads">
            <a class="zip_download_link" href="https://github.com/justinethier/node-kdtree/zipball/master">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/justinethier/node-kdtree/tarball/master">Download this project as a tar.gz file</a>
          </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>node-kdtree is a node.js addon that defines a wrapper to libkdtree, allowing one to work with KD trees directly in node. A <a href="http://en.wikipedia.org/wiki/Kd-tree">KD tree</a> is a data structure that organizes points in a multi-dimensional space, and in particular is useful for performing efficient nearest neighbor searches.</p>

<h2>Dependencies</h2>

<p>The <a href="http://code.google.com/p/kdtree/">kdtree</a> C library is required. In order to install, get the latest version from <a href="http://code.google.com/p/kdtree/downloads/list">here</a> and run the following commands:</p>

<pre><code>./configure
make
sudo make install PREFIX=/usr 
</code></pre>

<h2>Installation</h2>

<p>The easiest way to install node-kdtree is to use the <a href="https://github.com/isaacs/npm">npm</a> package manager:</p>

<pre><code>npm install kdtree
</code></pre>

<h2>Usage</h2>

<h3>Creating a tree</h3>

<p>You may create a tree by instantiating a new <code>KDTree</code> object:</p>

<pre><code>var kd = require('kdtree');
var tree = new kd.KDTree(3); // A new tree for 3-dimensional points
</code></pre>

<p>When creating a new tree we can specify the dimensions of the data. For example, a three-dimensional tree will contain points of the form (x, y, z). If a dimension is not specified, the tree defaults to three dimensions.</p>

<h3>Adding data to a tree</h3>

<p>Data may be added to the tree using the <code>insert</code> method:</p>

<pre><code>tree.insert(1, 2, 3);
tree.insert(10, 20, 30);
</code></pre>

<p>There must be one argument for each dimension of the data - for example, a three dimensional tree would have three arguments to <code>insert</code>. An optional data parameter may also be specified to store a data value alongside the point data:</p>

<pre><code>tree.insert(39.285785, -76.610262, "USS Constellation");
</code></pre>

<h3>Nearest neighbor searches</h3>

<p>The <code>nearest</code> method is used to find the point in the tree that is closest to a target point. For example:</p>

<pre><code>&gt; tree.nearest(39.273889, -76.738056);
[39.272051, -76.731917, "Bill's Music, Inc."]
</code></pre>

<p><code>nearest</code> will return an array containing closest point, or an empty array if no points were found. As shown above, if the point contains a data value, that value will also be returned at the end of the array.</p>

<p>A <code>nearestRange</code> method is also provided, which allows us to find all of the points within a given range. For example:</p>

<pre><code>&gt; tree.nearestRange(0, 0, 3);
[ [ 1, 1 ],
  [ 0, 2 ],
  [ 2, 0 ],
  [ 1, 0 ],
  [ 0, 1 ],
  [ 0, 0 ] ]
</code></pre>

<p>The first arguments to <code>nearestRange</code> are the components of the point to begin searching at. The last argument is the search range.</p>

<h2>API</h2>

<p><a href="https://github.com/justinethier/node-kdtree/blob/master/doc/API.markdown">API documentation</a></p>

<h2>Credits</h2>

<p>node-kdtree is developed by <a href="http://github.com/justinethier">Justin Ethier</a>.</p>

<p>Thanks to John Tsiombikas for developing libkdtree!</p>

<p>Patches are welcome; please send via pull request on github.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">node-kdtree maintained by <a href="https://github.com/justinethier">justinethier</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
